<div id="settings-page-wrapper">
  <form class="settings-form" [formGroup]="alertSettingsForm" autocomplete="off" novalidate (ngSubmit)="saveSettings(alertSettingsForm.value)" fxLayout="column wrap"
    fxLayoutAlign="center center" fxLayoutGap="10px">
    <div class="settings-panel">
      <div class="settings-column">
        <p>
          <mat-form-field appearance="outline">
            <mat-label>City</mat-label>
            <input matInput placeholder="City" type="text" formControlName="city" id="city">
            <mat-icon matSuffix>location_on</mat-icon>
            <mat-hint>City for weather & forecast</mat-hint>
            <mat-error *ngIf="hasError('city', 'required')">City is required</mat-error>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Min temp (째C)</mat-label>
            <input matInput placeholder="Min temp (째C)" type="text" formControlName="minTemp" id="minTemp">
            <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
            <mat-hint>Alert when values go below this</mat-hint>
            <mat-error *ngIf="hasError('minTemp', 'minTemp')">Must be below max temperature</mat-error>
          </mat-form-field>
        </p>
      </div>
      <div class="settings-column">
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Forecast Days</mat-label>
            <input matInput placeholder="Forecast Days" type="number" formControlName="forecastDays" id="forecastDays">
            <mat-icon matSuffix>calendar_today</mat-icon>
            <mat-hint>Number of days to forecast</mat-hint>
            <mat-error *ngIf="hasError('forecastDays', 'min') || hasError('forecastDays', 'max')">Value must be between 1 and 3</mat-error>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Max temp (째C)</mat-label>
            <input matInput placeholder="Max temp (째C)" type="text" formControlName="maxTemp" id="maxTemp">
            <mat-icon matSuffix>keyboard_arrow_up</mat-icon>
            <mat-hint>Alert when values go above this</mat-hint>
          </mat-form-field>
        </p>
      </div>

      <div class="settings-column">
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput placeholder="Email" type="text" formControlName="email" id="email">
            <mat-icon matSuffix>email</mat-icon>
            <mat-hint>Email to be notified for alerts</mat-hint>
            <mat-error *ngIf="hasError('email', 'required')">Email is required</mat-error>
            <mat-error *ngIf="hasError('email', 'email')">Not a valid email</mat-error>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field appearance="outline">
            <mat-label>Chances of rain (%)</mat-label>
            <input matInput placeholder="Chances of rain (%)" type="text" formControlName="chancesOfRain" id="chancesOfRain">
            <mat-icon matSuffix>flash_on</mat-icon>
            <mat-hint>Alert when values go above this</mat-hint>
            <mat-error *ngIf="hasError('chancesOfRain', 'min') || hasError('chancesOfRain', 'max')">Value must be between 0 and 100</mat-error>
          </mat-form-field>
        </p>
      </div>
    </div>

    <button mat-flat-button class="submit-settings-btn" type="submit">Submit</button>
</form>
</div>
